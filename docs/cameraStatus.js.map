{"version":3,"sources":["cameraStatus.tsx"],"names":[],"mappings":"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","file":"cameraStatus.js","sourcesContent":["/// <reference path=\"./node_modules/@types/arcgis-js-api/index.d.ts\" />\r\n\r\nimport Widget = require(\"esri/widgets/Widget\");\r\nimport SceneView = require(\"esri/views/SceneView\");\r\nimport Accessor = require(\"esri/core/Accessor\");\r\nimport { subclass, declared, property } from \"esri/core/accessorSupport/decorators\";\r\nimport { renderable, tsx } from \"esri/widgets/support/widget\";\r\n\r\nconst CSS = {\r\n    base: \"esri-widget\",\r\n    esrideCameraStatus: \"esride-camera-status\"\r\n  };\r\n\r\ninterface CameraStatusParams {\r\n    sceneView: SceneView;\r\n}\r\n\r\n@subclass(\"esride.widgets.CameraStatus\")\r\nclass CameraStatus extends declared(Widget) {\r\n\r\n    @property()\r\n    _sceneView: SceneView;\r\n\r\n    @property()\r\n    @renderable()\r\n    fieldOfView: number = 0;\r\n\r\n    @property()\r\n    @renderable()\r\n    heading: number = 0;\r\n\r\n    @property()\r\n    @renderable()\r\n    tilt: number = 0;\r\n\r\n    @property()\r\n    @renderable()\r\n    latitude: number = 0;\r\n\r\n    @property()\r\n    @renderable()\r\n    longitude: number = 0;\r\n\r\n    @property()\r\n    @renderable()\r\n    altitude: number = 0;\r\n\r\n    constructor(params: CameraStatusParams) {\r\n        super();\r\n        this._sceneView = params.sceneView;\r\n        \r\n        this.fieldOfView = this._sceneView.camera.fov;\r\n        this.heading = this._sceneView.camera.heading;\r\n        this.tilt = this._sceneView.camera.tilt;\r\n        if (this._sceneView.camera.position.latitude) this.latitude = this._sceneView.camera.position.latitude;\r\n        if (this._sceneView.camera.position.longitude) this.longitude = this._sceneView.camera.position.longitude;\r\n        this.altitude = this._sceneView.camera.position.z;\r\n\r\n        this._sceneView.watch(\"camera\", () => {\r\n            this.fieldOfView = this._sceneView.camera.fov;\r\n            this.heading = this._sceneView.camera.heading;\r\n            this.tilt = this._sceneView.camera.tilt;\r\n            if (this._sceneView.camera.position.latitude) this.latitude = this._sceneView.camera.position.latitude;\r\n            if (this._sceneView.camera.position.longitude) this.longitude = this._sceneView.camera.position.longitude;\r\n            this.altitude = this._sceneView.camera.position.z;\r\n        })\r\n      }\r\n\r\n    render() {\r\n        const classes = {\r\n            [CSS.base]: true,\r\n            [CSS.esrideCameraStatus]: true\r\n        };\r\n        return (\r\n            <div bind={this}\r\n                class={CSS.base}\r\n                classes={classes}>\r\n                Field of view: {this.fieldOfView.toFixed(2)}<br/>\r\n                Heading: {this.heading.toFixed(2)}<br/>\r\n                Tilt: {this.tilt.toFixed(2)}<br/>\r\n                Latitude: {this.latitude.toFixed(2)}<br/>\r\n                Longitude: {this.longitude.toFixed(2)}<br/>\r\n                Altitude: {this.altitude.toFixed(2)}<br/>\r\n            </div>\r\n        );    \r\n    }\r\n}\r\n\r\nexport = CameraStatus;"]}